# ローカル版 vs GitHub Actions版 比較

HETEMLMonitorには2つの実行方法があります。それぞれの特徴と使い分けについて説明します。

## 📊 比較表

| 項目 | ローカル版 | GitHub Actions版 |
|------|------------|------------------|
| **実行環境** | Macローカル | GitHubサーバー |
| **実行頻度** | 5分ごと | 1時間ごと |
| **依存関係** | ローカルマシンの電源 | なし |
| **通知タイトル** | "HETEMLサーバ監視通知" | "[GitHub Actions] HETEMLサーバ監視通知" |
| **通知メッセージ** | 通常のメッセージ | "[GitHub Actions版] "プレフィックス付き |
| **ログ保存** | ローカルファイル | GitHub Actionsログ |
| **設定管理** | ローカルファイル | GitHub Secrets |
| **手動実行** | スクリプト直接実行 | GitHub Actions画面 |

## 🖥️ ローカル版

### 特徴
- **高頻度監視**: 5分ごとの実行でリアルタイムに近い監視
- **即座の通知**: ファイル変更を素早く検出・通知
- **詳細なログ**: ローカルにログファイルが保存される
- **カスタマイズ性**: 設定ファイルを直接編集可能

### 使用場面
- 開発中のファイル変更を即座に検出したい場合
- 重要なファイルの変更をリアルタイムで監視したい場合
- ローカル環境でのテストやデバッグ

### 設定方法
```bash
# ローカル版の起動
cd HETEMLMonitor
python heteml_monitor.py
```

## ☁️ GitHub Actions版

### 特徴
- **24時間監視**: ローカルマシンの電源に依存しない
- **安定性**: GitHubのインフラで安定稼働
- **通知区別**: メールタイトルとメッセージでGitHub版であることを明示
- **自動実行**: スケジュールに従った自動実行

### 使用場面
- 24時間365日の継続的な監視が必要な場合
- ローカルマシンを常時起動しておけない場合
- 本番環境での監視

### 設定方法
1. GitHub Secretsの設定
2. ワークフローファイルの配置
3. 自動実行開始

## 🔔 通知の違い

### ローカル版
```
件名: HETEMLサーバ監視通知
本文: 
🆕 新しいファイル:
  • example.txt
```

### GitHub Actions版
```
件名: [GitHub Actions] HETEMLサーバ監視通知
本文: 
[GitHub Actions版] 🆕 新しいファイル:
  • example.txt
```

## 🛠️ 併用の推奨

両方のバージョンを併用することで、以下のメリットがあります：

1. **開発時**: ローカル版でリアルタイム監視
2. **本番時**: GitHub Actions版で24時間監視
3. **冗長性**: 一方が停止しても他方で監視継続

## 📋 設定の共有

両バージョンで同じ設定を使用する場合：

### 共通設定
- HETEMLサーバ接続情報
- 監視対象フォルダ
- 通知設定（メール、LINE、Slack）

### バージョン固有設定
- **ローカル版**: `config.py`で直接設定
- **GitHub Actions版**: GitHub Secretsで設定

## 🔄 移行ガイド

### ローカル版からGitHub Actions版への移行

1. **設定の移行**
   ```bash
   # ローカル設定をGitHub Secretsに移行
   # config.pyの内容をGitHub Secretsに設定
   ```

2. **テスト実行**
   ```bash
   # GitHub Actionsで手動実行してテスト
   ```

3. **ローカル版の停止**
   ```bash
   # ローカル版のプロセスを停止
   ```

### GitHub Actions版からローカル版への移行

1. **設定ファイルの作成**
   ```bash
   # GitHub Secretsの内容をconfig.pyに反映
   ```

2. **ローカル版の起動**
   ```bash
   python heteml_monitor.py
   ```

## 📝 ログの確認方法

### ローカル版
```bash
# ログファイルの確認
tail -f HETEMLMonitor/heteml_monitor.log
```

### GitHub Actions版
1. GitHubリポジトリのActionsタブ
2. HETEML Monitorワークフロー
3. 実行履歴からログを確認

## 🔧 トラブルシューティング

### ローカル版の問題
- **プロセス停止**: `monitor_control.sh stop`
- **設定エラー**: `config.py`の確認
- **権限エラー**: ファイル権限の確認

### GitHub Actions版の問題
- **認証エラー**: GitHub Secretsの確認
- **接続エラー**: HETEMLサーバ設定の確認
- **通知エラー**: 通知設定の確認

## 📞 サポート

問題が発生した場合は、以下の情報を含めて報告してください：

- 使用しているバージョン（ローカル版/GitHub Actions版）
- エラーメッセージ
- 設定内容（機密情報は除く）
- 期待される動作
